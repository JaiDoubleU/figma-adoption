"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const _1 = require(".");
const exact_1 = require("./utils/exact");
const lookup_1 = __importDefault(require("./utils/lookup"));
function checkTextMatch(styleBucket, targetNode, opts) {
    const checkName = "Text-Style";
    // console.log(targetNode);
    // check if correct Node Type
    if (!(0, _1.isNodeOfTypeAndVisible)(["TEXT"], targetNode))
        return { checkName, matchLevel: "Skip", suggestions: [] };
    // check if style is exact match
    const exactMatch = (0, exact_1.isExactStyleMatch)("TEXT", styleBucket, targetNode);
    if (exactMatch) {
        return {
            checkName,
            matchLevel: "Full",
            suggestions: [],
            exactMatch: { key: exactMatch.key },
        };
    }
    if (opts === null || opts === void 0 ? void 0 : opts.styleLookupMap) {
        const { matchLevel, suggestions } = (0, lookup_1.default)(checkName, opts.styleLookupMap, "TEXT", targetNode);
        return { checkName, matchLevel, suggestions };
    }
    return { checkName, matchLevel: "None", suggestions: [] };
}
exports.default = checkTextMatch;
